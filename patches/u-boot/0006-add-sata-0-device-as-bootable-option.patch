From d8d85209a9f425ea2642362522d2cc19a1bf9598 Mon Sep 17 00:00:00 2001
From: Rabeeh Khoury <rabeeh@solid-run.com>
Date: Mon, 26 Mar 2018 21:58:09 +0300
Subject: [PATCH] add sata #0 device as bootable option

Signed-off-by: Rabeeh Khoury <rabeeh@solid-run.com>
---
 include/configs/mvebu_armada-common.h |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/include/configs/mvebu_armada-common.h b/include/configs/mvebu_armada-common.h
index 79b47f4..55f10bf 100644
--- a/include/configs/mvebu_armada-common.h
+++ b/include/configs/mvebu_armada-common.h
@@ -76,8 +76,11 @@
 						" ext4load mmc 0:1 0x01700000 /uenv.txt; if test \"$?\" = \"0\"; then env import -t 0x01700000; else "\
 						"usb start; "\
 						" fatload usb 0:1 0x01700000 /uenv.txt; if test \"$?\" = \"0\"; then env import -t 0x01700000; else "\
-						" ext4load usb 0:1 0x01700000 /uenv.txt; if test \"$?\" = \"0\"; then env import -t 0x01700000; "\
-						" fi;fi;fi;fi;fi;fi; if test \"${uenvcmd}\" != \"\"; then run uenvcmd; fi"
+						" ext4load usb 0:1 0x01700000 /uenv.txt; if test \"$?\" = \"0\"; then env import -t 0x01700000; else "\
+						"scsi reset; "\
+						" fatload scsi 0:1 0x01700000 /uenv.txt; if test \"$?\" = \"0\"; then env import -t 0x01700000; else "\
+						" ext4load scsi 0:1 0x01700000 /uenv.txt; if test \"$?\" = \"0\"; then env import -t 0x01700000; "\
+						" fi;fi;fi;fi;fi;fi;fi;fi; if test \"${uenvcmd}\" != \"\"; then run uenvcmd; fi"
 #define CONFIG_BOOTCOMMAND		"run get_env; run get_images; run set_bootargs; " \
 					"booti $kernel_addr $ramfs_addr $fdt_addr"
 
-- 
1.7.9.5

